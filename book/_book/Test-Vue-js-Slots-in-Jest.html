
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>7. Test Vue.js Slots in Jest Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="Learn how to test content distributed using slots and named slots.">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Enhance-Jest-configuration-with-Module-Aliases.html" />
    
    
    <link rel="prev" href="Test-Methods-and-Mock-Dependencies-in-Vue-js-with-Jest.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Write-the-first-Vue-js-Component-Unit-Test-in-Jest.html">
            
                <a href="Write-the-first-Vue-js-Component-Unit-Test-in-Jest.html">
            
                    
                    1. Write the first Vue.js Component Unit Test in Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Test-Deeply-Rendered-Vue-js-Components-in-Jest.html">
            
                <a href="Test-Deeply-Rendered-Vue-js-Components-in-Jest.html">
            
                    
                    2. Test Deeply Rendered Vue.js Components in Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Test-Styles-and-Structure-of-Vue-js-Components-in-Jest.html">
            
                <a href="Test-Styles-and-Structure-of-Vue-js-Components-in-Jest.html">
            
                    
                    3. Test Styles and Structure of Vue.js Components in Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="Test-Properties-and-Custom-Events-in-Vue-js-Components-with-Jest.html">
            
                <a href="Test-Properties-and-Custom-Events-in-Vue-js-Components-with-Jest.html">
            
                    
                    4. Test Properties and Custom Events in Vue.js Components with Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Test-Computed-Properties-and-Watchers-in-Vue-js-Components-with-Jest.html">
            
                <a href="Test-Computed-Properties-and-Watchers-in-Vue-js-Components-with-Jest.html">
            
                    
                    5. Test Computed Properties and Watchers in Vue.js Components with Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Test-Methods-and-Mock-Dependencies-in-Vue-js-with-Jest.html">
            
                <a href="Test-Methods-and-Mock-Dependencies-in-Vue-js-with-Jest.html">
            
                    
                    6. Test Methods and Mock Dependencies in Vue.js with Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8" data-path="Test-Vue-js-Slots-in-Jest.html">
            
                <a href="Test-Vue-js-Slots-in-Jest.html">
            
                    
                    7. Test Vue.js Slots in Jest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Enhance-Jest-configuration-with-Module-Aliases.html">
            
                <a href="Enhance-Jest-configuration-with-Module-Aliases.html">
            
                    
                    8. Enhance Jest configuration with Module Aliases
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >7. Test Vue.js Slots in Jest</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="test-vuejs-slots-in-jest">Test Vue.js Slots in Jest</h1>
<p>Learn how to test content distributed using slots and named slots.</p>
<!-- more -->
<p>Slots are the way to make content distribution happen in the web components world. Vue.js slots are made following the <a href="https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Slots-Proposal.md" target="_blank">Web Component specs</a>, meaning that if you learn how to use them in Vue.js, that will be useful in the future ;).</p>
<p>They make components structure to be much more flexible, moving the responsibility of managing the state to the parent component. For example, we can have a <code>List</code> component, and different kind of item components, such <code>ListItem</code> and <code>ListItemImage</code>. They&apos;ll be used like:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">List</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span> <span class="hljs-attr">:someProp</span>=<span class="hljs-string">&quot;someValue&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span> <span class="hljs-attr">:someProp</span>=<span class="hljs-string">&quot;someValue&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ListItemImage</span> <span class="hljs-attr">:image</span>=<span class="hljs-string">&quot;imageUrl&quot;</span> <span class="hljs-attr">:someProp</span>=<span class="hljs-string">&quot;someValue&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">List</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>The inner content of <code>List</code> is the slot itself, and its accessible via <code>&lt;slot&gt;</code> tag. So the <code>List</code> implementation looks like:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- slot here will equal to what&apos;s inside &lt;List&gt; --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>And, say that the <code>ListItem</code> component looks like:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span> {{ someProp }} <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>Then, the final result rendered by Vue.js would be:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span> someValue <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span> someValue <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span> someValue <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> <span class="hljs-comment">&lt;!-- assume the same implementation for ListItemImage --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<h2 id="make-messagelist-slot-based">Make MessageList slot based</h2>
<p>Let&apos;s take a look at the <code>MessageList.vue</code> component:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Message</span>
          @<span class="hljs-attr">message-clicked</span>=<span class="hljs-string">&quot;handleMessageClick&quot;</span>
          <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span>
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;message in messages&quot;</span>
          <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;message&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>MessageList has &quot;hardcoded&quot; the Message component inside. In a way that&apos;s more automated, but in the other is not flexible at all. What if you wanna have different types of Message components? What about changing its structure or styling? That&apos;s where slots come in handy.</p>
<p>Let&apos;s change <code>Message.vue</code> to use slots. First, move that <code>&lt;Message...</code> part to the <code>App.vue</code> component, as well as the <code>handleMessageClick</code> method, so it&apos;s used externally:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">MessageList</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Message</span>
          @<span class="hljs-attr">message-clicked</span>=<span class="hljs-string">&quot;handleMessageClick&quot;</span>
          <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span>
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;message in messages&quot;</span>
          <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;message&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">MessageList</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> MessageList <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./components/MessageList&apos;</span>
<span class="hljs-keyword">import</span> Message <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./components/Message&apos;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  name: <span class="hljs-string">&apos;app&apos;</span>,
  data: () =&gt; ({ messages: [<span class="hljs-string">&apos;Hey John&apos;</span>, <span class="hljs-string">&apos;Howdy Paco&apos;</span>] }),
  methods: {
    handleMessageClick(message) {
      <span class="hljs-built_in">console</span>.log(message)
    }
  },
  components: {
    MessageList,
    Message
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>Don&apos;t forget to import the Message component and add it to the <code>components</code> option in <code>App.vue</code>.</p>
<p>Then, in <code>MessageList.vue</code>, we can remove the references to <code>Message</code>, looking like:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-messages&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  name: <span class="hljs-string">&apos;MessageList&apos;</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 id="children-and-slots"><code>$children</code> and <code>$slots</code></h2>
<p>Vue components have two instance variables useful for accessing slots:</p>
<ul>
<li><code>$children</code>: an array of Vue component instances of the default slot.</li>
<li><code>$slots</code>: an object of VNodes mapping all the slots defined in the component instance.</li>
</ul>
<p>The <code>$slots</code> object has more data available. In fact, <code>$children</code> is just a portion of the <code>$slots</code> variable, that could be accessed the same way by mapping over the <code>$slots.default</code> array, filtered by Vue component instances:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> children = <span class="hljs-keyword">this</span>.$slots.default
  .map(vnode =&gt; vnode.componentInstance)
  .filter(cmp =&gt; !!cmp)
</code></pre>
<h2 id="testing-slots">Testing Slots</h2>
<p>Probably what we want to test the most out of slots is where they end up in the component, and for that we can reuse the skills got in the article <em><a href="2017/09/04/Test-Styles-and-Structure-of-Vue-js-Components-in-Jest">Test Styles and Structure of Vue.js Components in Jest</a></em>.</p>
<p>Right now, most of the tests in <code>MessageList.test.js</code> will fail, so let&apos;s remove them all (or comment them out), and focus on slot testing.</p>
<p>One thing we can test, is to make sure that the Message components end up within a <code>ul</code> element with class <code>list-messages</code>. In order to pass slots to the <code>MessageList</code> component, we can use the <code>slots</code> property of the options object of <code>mount</code> or <code>shallow</code> methods. So let&apos;s create a <a href="https://facebook.github.io/jest/docs/en/api.html#beforeeachfn" target="_blank"><code>beforeEach</code> method</a> with the following code:</p>
<pre><code class="lang-javascript">beforeEach(() =&gt; {
  cmp = mount(MessageList, {
    slots: {
      <span class="hljs-keyword">default</span>: <span class="hljs-string">&apos;&lt;div class=&quot;fake-msg&quot;&gt;&lt;/div&gt;&apos;</span>
    }
  })
})
</code></pre>
<p>Since we just want to test if the messages are rendered, we can search for <code>&lt;div class=&quot;fake-msg&quot;&gt;&lt;/div&gt;</code> as follows:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">&apos;Messages are inserted in a ul.list-messages element&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> list = cmp.find(<span class="hljs-string">&apos;ul.list-messages&apos;</span>)
  expect(list.findAll(<span class="hljs-string">&apos;.fake-msg&apos;</span>).length).toBe(<span class="hljs-number">1</span>)
})
</code></pre>
<p>And that should be ok to go. The slots option also accepts a component declaration, and even an array, so we could write:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> AnyComponent <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;anycomponent&apos;</span>
...
mount(MessageList, {
  slots: {
    <span class="hljs-keyword">default</span>: AnyComponent <span class="hljs-comment">// or [AnyComponent, AnyComponent]</span>
  }
})
</code></pre>
<p>The problem with that is that is very limited, you cannot override props for example, and we need that for the <code>Message</code> component since it has a required property. This should affect the cases that you really need to test slots with the expected components. For example, if you wanna make sure that <code>MessageList</code> expects only <code>Message</code> components as slots. That&apos;s <a href="https://github.com/vuejs/vue-test-utils/issues/41#issue-255235880" target="_blank">on track and at some point it will land in vue-test-utils</a>.</p>
<p>As a workaround, we can accomplish that by using a <a href="https://vuejs.org/v2/guide/render-function.html" target="_blank">render function</a>. So we can rewrite the test to be more specific:</p>
<pre><code class="lang-javascript">beforeEach(() =&gt; {
  <span class="hljs-keyword">const</span> messageWrapper = {
    render(h) {
      <span class="hljs-keyword">return</span> h(Message, { props: { message: <span class="hljs-string">&apos;hey&apos;</span> }  })
    }
  }

  cmp = mount(MessageList, {
    slots: {
      <span class="hljs-keyword">default</span>: messageWrapper
    }
  })
})

it(<span class="hljs-string">&apos;Messages are inserted in a ul.list-messages element&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> list = cmp.find(<span class="hljs-string">&apos;ul.list-messages&apos;</span>)
  expect(list.find(Message).isVueInstance()).toBe(<span class="hljs-literal">true</span>)
})
</code></pre>
<h2 id="testing-named-slots">Testing Named Slots</h2>
<p>The unnamed slot we used above is called the <em>default slot</em>, but we can have multiple slots by using named exports. Let&apos;s add a header to the <code>MessageList.vue</code> component:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-header&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>
        This is a default header
      <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-messages&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>By using <code>&lt;slot name=&quot;header&quot;&gt;</code> we&apos;re defining another slot for the header. You can see a <code>This is a default header</code> text inside the slot, that&apos;s displayed as the default content when a slot is not passed to the component, and that&apos;s applicable to the default slot.</p>
<p>Then, from <code>App.vue</code> we can use add a header to the <code>MessageList</code> component by using the <code>slot=&quot;header&quot;</code> attribute:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">MessageList</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>
        Awesome header
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Message</span>
          @<span class="hljs-attr">message-clicked</span>=<span class="hljs-string">&quot;handleMessageClick&quot;</span>
          <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span>
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;message in messages&quot;</span>
          <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;message&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">MessageList</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>It&apos;s time to write a unit test for it. Testing named slots is just as testing a default slot, the same dynamics apply. So, we can start by testing that the header slot is rendered within the <code>&lt;header class=&quot;list-header&quot;&gt;</code> element, and it renders a default text when no header slot is passed by. In <code>MessageList.test.js</code>:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">&apos;Header slot renders a default header text&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> header = cmp.find(<span class="hljs-string">&apos;.list-header&apos;</span>)
  expect(header.text().trim()).toBe(<span class="hljs-string">&apos;This is a default header&apos;</span>)
})
</code></pre>
<p>Then, the same but checking the default content gets replaced when we mock the header slot:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">&apos;Header slot is rendered withing .list-header&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> component = mount(MessageList, {
    slots: {
      header: <span class="hljs-string">&apos;&lt;div&gt;What an awesome header&lt;/div&gt;&apos;</span>
    }
  })

  <span class="hljs-keyword">const</span> header = component.find(<span class="hljs-string">&apos;.list-header&apos;</span>)
  expect(header.text().trim()).toBe(<span class="hljs-string">&apos;What an awesome header&apos;</span>)
})
</code></pre>
<p>See that the header slot used in this last test is wrapped in a <code>&lt;div&gt;</code>. It&apos;s important the slots are wrapped in an html tag, otherwise vue-test-utils will complain.</p>
<h2 id="testing-contextual-slot-specs">Testing Contextual Slot Specs</h2>
<p>We&apos;ve test how and where the slots render, and probably that&apos;s what we mostly need. However, it doesn&apos;t end there. If you pass component instances as slots, just as we&apos;re doing in the default slot with Message, you can test functionality related to it.</p>
<p>Be careful on what you test here, this is probably something you don&apos;t need to do in most cases, since the functional tests of a component should belong to that component test. When talking about testing slots functionality, we test how a slot must behave <strong>in the context of the component where that slot is used</strong>, and that&apos;s something is not very common. Normally we just pass the slot and forget about it. So don&apos;t get too stick to the following example, It&apos;s only purpose is to demonstrate how the tool works.</p>
<p>Let&apos;s say that, for whatever reason, in the context of the <code>MessageList</code> component, all the <code>Message</code> components must have a length higher than 5. We can test that like:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">&apos;Message length is higher than 5&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> messages = cmp.findAll(Message)
  messages.wrappers.forEach(c =&gt; {
    expect(c.vm.message.length).toBeGreaterThan(<span class="hljs-number">5</span>)
  })
})
</code></pre>
<p><code>findAll</code> returns an object containing an array of <code>wrappers</code> where we can access its <code>vm</code> component instance property. This test will fail because the message has a length of 3, so go to the <code>beforeEach</code> function and make it longer:</p>
<pre><code class="lang-javascript">beforeEach(() =&gt; {
  <span class="hljs-keyword">const</span> messageWrapper = {
    render(h) {
      <span class="hljs-keyword">return</span> h(Message, { props: { message: <span class="hljs-string">&apos;hey yo&apos;</span> }  })
    }
  }
...
</code></pre>
<p>Then it should pass.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Testing slots is very simple, normally we&apos;d like to test that they&apos;re placed and rendered as we want, so is just like testing style and structure knowing how slots behave or can be mocked. You won&apos;t need to test slot functionality very ofter probably. Keep in mind to test things only related to slots when you want to test slots, and think twice if what you&apos;re testing belongs to the slot test or the component test itself.</p>
<p>You can find the code of this article <a href="https://github.com/alexjoverm/vue-testing-series/tree/test-slots" target="_blank">in this repo</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Test-Methods-and-Mock-Dependencies-in-Vue-js-with-Jest.html" class="navigation navigation-prev " aria-label="Previous page: 6. Test Methods and Mock Dependencies in Vue.js with Jest">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Enhance-Jest-configuration-with-Module-Aliases.html" class="navigation navigation-next " aria-label="Next page: 8. Enhance Jest configuration with Module Aliases">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"7. Test Vue.js Slots in Jest","tags":["VueJS","JavaScript","Testing"],"description":"Learn how to test content distributed using slots and named slots.","date":"2017-10-02T14:50:49.000Z","level":"1.8","depth":1,"next":{"title":"8. Enhance Jest configuration with Module Aliases","level":"1.9","depth":1,"path":"Enhance-Jest-configuration-with-Module-Aliases.md","ref":"Enhance-Jest-configuration-with-Module-Aliases.md","articles":[]},"previous":{"title":"6. Test Methods and Mock Dependencies in Vue.js with Jest","level":"1.7","depth":1,"path":"Test-Methods-and-Mock-Dependencies-in-Vue-js-with-Jest.md","ref":"Test-Methods-and-Mock-Dependencies-in-Vue-js-with-Jest.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":16,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Test-Vue-js-Slots-in-Jest.md","mtime":"2017-10-06T16:50:17.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-10-06T16:50:25.417Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

